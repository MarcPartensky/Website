{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Pixel Art</title>
    <style>
      #canvas {
        width: 100%;
        height: 100%;
        border-width: thick;
        border-color: black;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas">
      <p> The canvas doesn't work on your browser. </p>
    </canvas>
    <input id="color" type="color" value="#eeeeee">
    <p id=code> texture code </p>
    <a id="generate">
      <button type="button" onclick="generate();">Generate</button>
    </a>
    <a id="download" download="pixelart.png">
      <button type="button" onclick="download();">Download</button>
    </a>
    <script src="{% static 'Pixel-Art/main.js' %}" charset="utf-8"></script>
    <script type="text/javascript">
      function download() {
        var download = document.getElementById("download");
        var canvas = document.getElementById("canvas");
        var image = canvas.toDataURL("image/png");
        // var image = canvas.toDataURL("image/png")
        //     .replace("image/png", "image/octet-stream");
        image.clientWidth = 5;
        image.clientHeight = 5;
        download.setAttribute("href", image);
      }
      function generate() {
        var code = document.getElementById("code");
        code.innerHTML = board.code;
      }
    </script>
  </body>
</html>
