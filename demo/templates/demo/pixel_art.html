{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Pixel Art</title>
    <style>
      #canvas {
        width: 100%;
        height: 100%;
        border-width: thick;
        border-color: black;
      }
      {% comment %}button {{% endcomment %}
          {% comment %}margin: 2rem{% endcomment %}
      {% comment %}}{% endcomment %}
      {% comment %}input {{% endcomment %}
          {% comment %}margin: 2rem{% endcomment %}
      {% comment %}}{% endcomment %}
    </style>
  </head>
  <body style="text-align: center">
    <canvas id="canvas" style="border:1px solid #000000;">
      <p> The canvas doesn't work on your browser. </p>
    </canvas>
    <input id="color" type="color" value="#0000ff">
    <input id="filename" type="text" placeholder="Insert your filename...">
    <br/>
    <br/>
    <a id="download">
      <button type="button" onclick="download();">Download</button>
    </a>
    <br/>
    <br/>
    <a id="generate">
      <button type="button" onclick="generate();">Generate texture code</button>
    </a>
    <p id=code> </p>
    <script src="{% static 'Pixel-Art/main.js' %}" charset="utf-8"></script>
    <script type="text/javascript">
      function download() {
        var download = document.getElementById("download");
        var canvas = document.getElementById("canvas");
        var image = canvas.toDataURL("image/png");
        // var image = canvas.toDataURL("image/png")
        //     .replace("image/png", "image/octet-stream");
        image.clientWidth = 5;
        image.clientHeight = 5;
        download.setAttribute("href", image);
        download.setAttribute("download", filename.value)
      }
      function generate() {
        var code = document.getElementById("code");
        code.innerHTML = board.code;
      }
    </script>
  </body>
</html>
